static const char JS[] PROGMEM = R"=====(
addEventListener("DOMContentLoaded",function(){var c=document.getElementById("color-picker-container").offsetWidth;var f=10;var d=screen.msOrientation||screen.mozOrientation||(screen.orientation||{}).type;if(d==="portrait-secondary"||d==="portrait-primary"){f=25}var a=new iro.ColorPicker("#color-picker-container",{width:c,borderWidth:2,borderColor:"#000000",padding:2,handleRadius:f,wheelLightness:true});addEventListener("resize",function(){c=document.getElementById("color-picker-container").offsetWidth;a.resize(c)});var o=new WebSocket("ws://192.168.2.111/ws");o.onopen=function(i){q("tv")};o.onclose=function(i){g("tv")};o.onmessage=function(i){if(i.data[0]=="{"){var r=JSON.parse(i.data);a.color.rgb=r;document.getElementById("speed").value=10-r.s}document.getElementsByClassName("answer")[0].innerHTML=i.data;console.log(i.data)};var n=new WebSocket("ws://192.168.2.113/ws");n.onopen=function(i){q("bett")};n.onclose=function(i){g("bett")};var j=Date.now();a.on("input:change",b);function b(){var r=a.color.rgb;var t=r.r;var s=r.g;var i=r.b;if(Date.now()>(j+100)){e("color-"+t+"-"+s+"-"+i);j=Date.now()}}var m=document.getElementsByClassName("button");for(var h=0;h<m.length;h++){var l=m[h];l.addEventListener("click",function(s){var i=s.target.id;if(i==="tv"||i==="bett"){}else{if(i==="toggle"){e("toggle")}else{var r="mode-"+i;e(r)}}})}var p=document.getElementById("speed");p.oninput=function(){var i=p.value;e("speed-"+i)};function e(s){console.log(s);var r=document.getElementById("tv");var i=document.getElementById("bett");if(r.classList.contains("enabled")){o.send(s)}if(i.classList.contains("enabled")){n.send(s)}}function k(r){var i=document.getElementById(r.target.id);if(i.classList.contains("disabled")){i.classList.remove("disabled");i.classList.add("enabled")}else{i.classList.add("disabled");i.classList.remove("enabled")}}function q(i){var r=document.getElementById(i);r.classList.remove("greyed");r.classList.add("enabled");r.addEventListener("click",k)}function g(i){var r=document.getElementById(i);r.classList.add("greyed");r.classList.remove("enabled");r.classList.remove("disabled");r.removeEventListener("click",k)}});
)=====";